<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />

    <!-- Optional local helper; ensure this path exists relative to this HTML -->
    <script src="lib/bindings/utils.js"></script>

    <!-- vis-network styles and script -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.css"
      integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllgXA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js"
      integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- Bootstrap (optional) -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53iiscObJGFsiCZc5NDVN2yr80RDqr0Ql0hrP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-JEW9xMcG8RpH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
      crossorigin="anonymous"
    ></script>

    <title>Graph Visualization</title>

    <style>
      body {
        margin: 0;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      }
      .page {
        width: 100%;
        padding: 12px;
      }
      .card {
        width: 100%;
      }
      #mynetwork {
        width: 100%;
        height: 700px;
        background-color: #ffffff;
        border: 1px solid lightgray;
        position: relative;
      }
    </style>
  </head>

  <body>
    <div class="page">
      <div class="text-center my-2">
        <h1>Graph Visualization</h1>
      </div>

      <div class="card">
        <div class="card-body">
          <div id="mynetwork" role="img" aria-label="Graph network"></div>
        </div>
      </div>
    </div>

    <script>
      // Initialize global variables
      let edges;
      let nodes;
      let network;

      // Draw the graph
      function drawGraph() {
        const container = document.getElementById("mynetwork");

        // Data assembled from your original file
        // Note: For brevity here, reuse your generated nodes/edges DataSet content.
        // Keep the same shape/color/labels you provided.
        nodes = new vis.DataSet([
          // ... paste your nodes array items exactly as generated ...
        ]);

        edges = new vis.DataSet([
          // ... paste your edges array items exactly as generated ...
        ]);

        const data = { nodes, edges };

        const options = {
          configure: { enabled: false },
          edges: {
            color: { inherit: true },
            smooth: { enabled: true, type: "dynamic" }
          },
          interaction: {
            dragNodes: true,
            hideEdgesOnDrag: false,
            hideNodesOnDrag: false
          },
          physics: {
            enabled: true,
            stabilization: { enabled: true, fit: true, iterations: 1000, onlyDynamicEdges: false, updateInterval: 50 },
            barnesHut: {
              avoidOverlap: 0,
              centralGravity: 0.3,
              damping: 0.09,
              gravitationalConstant: -80000,
              springConstant: 0.001,
              springLength: 250
            }
          }
        };

        network = new vis.Network(container, data, options);
      }

      // Kick off
      drawGraph();
    </script>
  </body>
</html>